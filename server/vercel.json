{
  "version": 2,
  "builds": [
    { "src": "server.js", "use": "@vercel/node" }
  ],
  "routes": [
    { "src": "/socket.io/(.*)", "dest": "/server.js" },
    {
      "src": "/(.*)",
      "dest": "/server.js",
      "headers": {
        "Content-Security-Policy": "default-src 'self'; script-src 'self' 'unsafe-inline'; connect-src 'self' ws: wss:;",
        "X-Frame-Options": "DENY",
        "X-XSS-Protection": "1; mode=block",
        "X-Content-Type-Options": "nosniff"
      }
    }
  ], 
  "git": {
    "deploymentEnabled": {
      "main": false
    }
  }
}