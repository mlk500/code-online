(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[844],{8734:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/questions/[qid]",function(){return s(3103)}])},172:function(e,t,s){"use strict";var l=s(5893),n=s(1664),r=s.n(n);s(7294);var i=s(5675),o=s.n(i);t.Z=e=>{let{role:t}=e;return(0,l.jsxs)("nav",{className:"relative flex h-[50px] w-full shrink-0 items-center px-5 bg-dark-layer-1 text-dark-gray-7",children:[(0,l.jsx)(r(),{href:"/",className:"h-[50px] flex-1 flex items-center",children:(0,l.jsx)(o(),{src:"/code-logo.png",alt:"Logo",height:100,width:100,className:"object-contain"})}),(0,l.jsx)("div",{className:"flex items-center space-x-4 flex-1 justify-end",children:t&&(0,l.jsxs)("div",{className:"cursor-pointer group relative",children:[(0,l.jsx)(o(),{src:"/avatar.png",alt:"Avatar",width:30,height:30,className:"rounded-full"}),(0,l.jsx)("div",{className:"absolute top-10 left-2/4 -translate-x-2/4  mx-auto bg-dark-layer-1 text-[#44BAE9] p-2 rounded shadow-lg  z-40 group-hover:scale-100 scale-0  transition-all duration-300 ease-in-out",children:t.charAt(0).toUpperCase()+t.slice(1)})]})})]})}},3103:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return N},default:function(){return k}});var l=s(5893),n=s(172),r=s(7294),i=s(2770),o=e=>{let{question:t}=e;return(0,l.jsxs)("div",{className:"bg-dark-layer-1",children:[(0,l.jsx)("div",{className:"flex h-11 w-full items-center pt-2 bg-dark-layer-2 text-white overflow-x-hidden",children:(0,l.jsx)("div",{className:"bg-dark-layer-1 rounded-t-[5px] px-5 py-[10px] text-xs cursor-pointer",children:"Description"})}),(0,l.jsx)("div",{className:"flex px-0 py-4 h-[calc(100vh-94px)] overflow-y-auto",children:(0,l.jsx)("div",{className:"px-5",children:(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("div",{className:"flex space-x-4",children:(0,l.jsx)("div",{className:"flex-1 mr-2 text-lg text-white font-medium",children:null==t?void 0:t.title})}),(0,l.jsx)("div",{className:"text-white text-sm",children:(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:t.description}})})]})})})]})},a=s(9367),c=e=>{let{}=e,[t,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{function e(e){if(!document.fullscreenElement){s(!1);return}s(!0)}document.addEventListener&&(document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e))},[t]),(0,l.jsxs)("div",{className:"flex items-center justify-between bg-dark-layer-2 h-11 w-full ",children:[(0,l.jsx)("div",{className:"flex items-center text-white",children:(0,l.jsx)("button",{className:"flex cursor-pointer items-center rounded focus:outline-none bg-dark-fill-3 text-dark-label-2 hover:bg-dark-fill-2  px-2 py-1.5 font-medium",children:(0,l.jsx)("div",{className:"flex items-center px-1",children:(0,l.jsx)("div",{className:"text-xs text-label-2 dark:text-dark-label-2",children:"JavaScript"})})})}),(0,l.jsx)("div",{className:"flex items-center m-2",children:(0,l.jsxs)("button",{className:"preferenceBtn group",onClick:()=>{t?document.exitFullscreen():document.documentElement.requestFullscreen(),s(!t)},children:[(0,l.jsx)("div",{className:"h-4 w-4 text-dark-gray-6 font-bold text-lg",children:t?(0,l.jsx)(a.sz8,{}):(0,l.jsx)(a.vju,{})}),(0,l.jsx)("div",{className:"preferenceBtn-tooltip",children:"Full Screen"})]})})]})},d=e=>{let{handleSubmit:t,toggleSolution:s,showSolution:n,isMentor:r,isDisabled:i}=e;return(0,l.jsx)("div",{className:"flex bg-dark-layer-1 absolute bottom-0 z-10 w-full",children:(0,l.jsxs)("div",{className:"mx-5 my-[10px] flex justify-between w-full",children:[(0,l.jsx)("div",{className:"mr-2 flex flex-1 flex-nowrap items-center space-x-4"}),(0,l.jsxs)("div",{className:"ml-auto flex items-center space-x-4",children:[(0,l.jsx)("button",{className:"px-3 py-1.5 text-sm font-medium items-center whitespace-nowrap transition-all focus:outline-none inline-flex ".concat(r||i?"bg-dark-fill-3 text-dark-label-2 cursor-not-allowed":"bg-dark-fill-3 hover:bg-dark-fill-2 text-dark-label-2"," rounded-lg"),onClick:r||i?void 0:s,disabled:r||i,children:n?"Hide Solution":"Show Solution"}),(0,l.jsx)("button",{className:"px-3 py-1.5 font-medium items-center transition-all focus:outline-none inline-flex text-sm ".concat(r||i?"bg-dark-green-s text-dark-label-2 cursor-not-allowed":"text-white bg-dark-green-s hover:bg-green-3"," rounded-lg"),onClick:r||i?void 0:t,disabled:r||i,children:"Submit"})]})]})})},u=s(3247),x=s(9873),m=s(7125),f=s(725),h=s.n(f),p=s(2599),g=e=>{let[t,s]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let t=(0,p.ZP)(e,{transports:["websocket"]});return t.on("connect",()=>{console.log("Socket connected"),s(t)}),t.on("connect_error",e=>{console.error("socket connection error:",e)}),()=>{console.log("Disconnecting socket"),t.disconnect()}},[e]),t},v=s(6501),j=s(1163),b=e=>{let{question:t,setRole:s}=e,[n,i]=(0,r.useState)(!1),[o,a]=(0,r.useState)(t.starterCode),[f,p]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[N,k]=(0,r.useState)(!1),y=g("localhost:3001"),S=(0,r.useRef)(null),C=(0,j.useRouter)();(0,r.useEffect)(()=>{if(y&&t.id)return y.emit("join",t.id),y.on("role",e=>{S.current=e,w("mentor"===e),s(e)}),y.on("codeChange",e=>{a(e)}),y.on("solutionFound",()=>{p(!0)}),y.on("error",e=>{console.error("Received error:",e),k(!0),v.ZP.error(e,{duration:2e3,position:"top-center"}),setTimeout(()=>{C.push("/")},2e3)}),y.on("showToast",e=>{"success"===e.type?v.ZP.success(e.message,{duration:3e3,position:"top-center"}):"custom"===e.type&&v.ZP.custom(t=>(0,l.jsx)("div",{className:"".concat(t.visible?"animate-enter":"animate-leave"," max-w-md w-full bg-white shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5"),children:(0,l.jsx)("div",{className:"flex-1 w-0 p-4",children:(0,l.jsx)("div",{className:"flex items-start",children:(0,l.jsxs)("div",{className:"ml-3 flex-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,l.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e.message})]})})})}),{duration:5e3,position:"top-center"})}),()=>{y.off("role"),y.off("codeChange"),y.off("solutionFound"),y.off("error"),y.off("showToast")}},[y,t.id,s,C]);let _=(0,r.useCallback)(()=>{p(!1)},[]);return(0,l.jsxs)("div",{className:"flex flex-col bg-dark-layer-1 relative overflow-x-hidden",children:[(0,l.jsx)(v.x7,{}),(0,l.jsx)(c,{}),(0,l.jsx)("div",{className:"w-full overflow-auto",children:(0,l.jsx)(u.ZP,{value:o,theme:x.Pc,onChange:e=>{N||(a(e),y&&!b&&y.emit("codeChange",{room:t.id,code:e}))},extensions:[(0,m.eJ)()],style:{fontSize:16},editable:!b&&!N})}),(0,l.jsx)(d,{handleSubmit:()=>{!N&&(o.trim()===t.solution.trim()?(p(!0),y&&(y.emit("solutionFound",t.id),y.emit("showToast",{room:t.id,type:"success",message:"Correct solution! Great job!"}))):(p(!1),y&&y.emit("showToast",{room:t.id,type:"custom",title:"Not quite right",message:"Your solution is incorrect. Keep trying!"})))},toggleSolution:()=>{!N&&(i(!n),n?a(t.starterCode):a(t.solution),y&&y.emit("codeChange",{room:t.id,code:n?t.starterCode:t.solution}))},showSolution:n,isMentor:b,isDisabled:N}),f&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center bg-dark-layer-1 bg-opacity-80",onClick:_,children:(0,l.jsx)("span",{className:"text-9xl",children:"\uD83D\uDE0A"})}),(0,l.jsx)(h(),{width:window.innerWidth,height:window.innerHeight,recycle:!1,numberOfPieces:200})]})]})},w=e=>{let{question:t,setRole:s}=e;return(0,l.jsxs)(i.Z,{className:"split",minSize:0,children:[(0,l.jsx)(o,{question:t}),(0,l.jsx)(b,{question:t,setRole:s})]})},N=!0,k=e=>{let{question:t}=e,[s,i]=(0,r.useState)(null);return(0,l.jsxs)("div",{children:[(0,l.jsx)(n.Z,{role:s}),(0,l.jsx)(w,{question:t,setRole:i})]})}}},function(e){e.O(0,[594,762,61,529,888,774,179],function(){return e(e.s=8734)}),_N_E=e.O()}]);